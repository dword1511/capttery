Version 4
SHEET 1 2044 848
WIRE 640 0 576 0
WIRE 688 0 640 0
WIRE 752 0 688 0
WIRE 576 16 576 0
WIRE 640 64 640 0
WIRE 752 80 752 0
WIRE 256 112 -112 112
WIRE 368 112 320 112
WIRE 432 112 368 112
WIRE 448 112 432 112
WIRE 512 112 496 112
WIRE 576 112 576 80
WIRE 576 112 512 112
WIRE -112 128 -112 112
WIRE 368 128 368 112
WIRE 576 144 576 112
WIRE -112 224 -112 208
WIRE 256 224 -112 224
WIRE 368 224 368 192
WIRE 368 224 320 224
WIRE 576 224 576 208
WIRE 576 224 368 224
WIRE 640 224 640 144
WIRE 640 224 576 224
WIRE 688 224 640 224
WIRE 752 224 752 144
WIRE 752 224 688 224
WIRE 368 256 368 224
WIRE -112 272 -112 224
WIRE 368 352 368 336
WIRE 1184 384 1152 384
WIRE 1296 384 1248 384
WIRE 1104 480 1088 480
WIRE 1152 480 1152 384
WIRE 1152 480 1104 480
WIRE 1184 480 1152 480
WIRE 1296 480 1296 384
WIRE 1296 480 1264 480
WIRE 1328 480 1296 480
WIRE 1504 480 1408 480
WIRE 1520 480 1504 480
FLAG -112 272 0
FLAG 368 352 0
FLAG 688 0 rxp
FLAG 688 224 rxn
FLAG 432 112 La
FLAG 512 112 Lb
FLAG 1104 480 La
FLAG 1504 480 Lb
SYMBOL voltage -112 112 R0
WINDOW 3 25 92 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 {VTX} {F})
SYMATTR InstName V1
SYMBOL cap 320 96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {CM * 2}
SYMBOL cap 352 128 R0
SYMATTR InstName C2
SYMATTR Value {C}
SYMBOL res 352 240 R0
SYMATTR InstName R1
SYMATTR Value 1e15
SYMBOL cap 320 208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value {CM * 2}
SYMBOL diode 592 80 R180
WINDOW 0 24 64 Left 2
WINDOW 3 34 33 Left 2
SYMATTR InstName D1
SYMATTR Value NSR0340
SYMBOL diode 592 208 R180
WINDOW 0 24 64 Left 2
WINDOW 3 33 37 Left 2
SYMATTR InstName D2
SYMATTR Value NSR0340
SYMBOL res 624 48 R0
SYMATTR InstName R2
SYMATTR Value {RL}
SYMBOL cap 736 80 R0
SYMATTR InstName C4
SYMATTR Value {CF}
SYMBOL ind 1168 496 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {L}
SYMBOL res 1424 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {Rac}
SYMBOL cap 1248 368 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value {Cpar}
TEXT 864 32 Left 2 !.MODEL NSR0340 d IS=1.38871e-07 RS=0.510993 N=1.05446\n+ EG=0.708435 XTI=0.5 BV=1000 IBV=0.0001 CJO=3.20087e-11\n+ VJ=0.4 M=0.467082 FC=0.5 TT=6.49213e-09 KF=0 AF=1
TEXT -112 -48 Left 2 !.tran 0 6m 1m
TEXT -112 -24 Left 2 !.step param RL 100 2k 20
TEXT 1152 608 Left 2 !.param L = 270u
TEXT -80 320 Left 2 !.param C = {1 / (W * W * L)}
TEXT -80 272 Left 2 !.param F = 1Meg
TEXT -112 0 Left 2 !.meas TRAN Pout AVG ((V(rxp)-V(rxn))*I(R2))
TEXT -80 448 Left 2 !.meas tran Comp_C param C
TEXT -80 296 Left 2 !.param W = {2 * pi * F}
TEXT -80 344 Left 2 !.param CF = {0.1m / RL}
TEXT 1152 632 Left 2 !.param Q = 55
TEXT 1152 680 Left 2 !.param SRF = 7Meg
TEXT 1152 720 Left 2 !.param SRW = {2 * pi * SRF}
TEXT 1152 744 Left 2 !.param Cpar = {1 / (SRW * SRW * L)}
TEXT 1160 584 Left 2 ;Approximation assumes large SRF/F ratio
TEXT 1152 768 Left 2 !.param Rac = {2 * pi * QF * L / Q}
TEXT 1152 656 Left 2 !.param QF = 790k
TEXT -80 472 Left 2 !.meas tran Comp_CF param CF
TEXT 1152 808 Left 2 !.meas tran Comp_Cpar param Cpar
TEXT 1152 832 Left 2 !.meas tran Comp_Rac param Rac
TEXT 472 312 Left 2 ;R1 for avoiding floating nets
TEXT 768 176 Left 2 ;CF is storage cap, whose value is set according to fixed time constant
TEXT 1152 328 Left 2 ;Inductor model
TEXT -80 368 Left 2 !.param CM = 0.5p
TEXT -80 392 Left 2 !.param VTX = 3200
TEXT -120 -176 Left 2 ;Sweep simulation for RX\nSee: http://ltwiki.org/index.php?title=Parametric_plot_(plot_measurements_in_relation_to_a_swept_parameter)\nSetup CM, VTX, and RL's range accordingly before running.\nValue of C2 will be computed automatically. It includes both parasitics (e.g. plate self capacitance, diode junction capacitance) and intentionally added capacitors.
